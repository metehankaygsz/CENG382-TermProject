@page
@model ClassManagementSystem.Areas.Admin.Pages.Terms.IndexModel
@{
    ViewData["Title"] = "Terms";
}

<h1>@ViewData["Title"]</h1>

<p>
  <a asp-page="Create" class="btn btn-primary">
    <i class="bi bi-plus-lg"></i> New Term
  </a>
</p>

<table class="table table-bordered table-hover">
  <thead class="table-light">
    <tr>
      <th>@Html.DisplayNameFor(m => m.Term[0].Name)</th>
      <th>@Html.DisplayNameFor(m => m.Term[0].StartDate)</th>
      <th>@Html.DisplayNameFor(m => m.Term[0].EndDate)</th>
      <th>@Html.DisplayNameFor(m => m.Term[0].IsActive)</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    @if (!Model.Term.Any())
    {
      <tr>
        <td colspan="5" class="text-center">No terms have been defined.</td>
      </tr>
    }
    else
    {
      foreach (var t in Model.Term)
      {
        <tr>
          <td>@t.Name</td>
          <td>@t.StartDate</td>
          <td>@t.EndDate</td>
          <td>
            @if (t.IsActive)
            {
              <span class="badge bg-success">Active</span>
            }
            else
            {
              <span class="badge bg-secondary">Inactive</span>
            }
          </td>
          <td>
            <a asp-page="Edit" asp-route-id="@t.Id" class="btn btn-sm btn-outline-secondary">
                <i class="bi bi-pencil"></i> Edit
            </a>
            <a asp-page="Delete" asp-route-id="@t.Id" class="btn btn-sm btn-outline-danger"
               onclick="return confirm('Are you sure you want to delete this term?');">
                <i class="bi bi-trash"></i> Delete
            </a>
          </td>
        </tr>
      }
    }
  </tbody>
</table>